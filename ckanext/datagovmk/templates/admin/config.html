<!--
Copyright (c) 2018 Keitaro AB

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as
published by the Free Software Foundation, either version 3 of the
License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with this program.  If not, see <https://www.gnu.org/licenses/>.
-->

{% ckan_extends %}

{% import 'macros/form.html' as form %}

{% block admin_form %}
 
  {{ form.input('ckan.site_title', id='field-ckan-site-title', label=_('Site Title'), value=data['ckan.site_title'], error=error, classes=['control-medium']) }}

  {{ form.select('ckan.main_css', id='field-ckan-main-css', label=_('Style'), options=styles, selected=data['ckan.main_css'], error=error) }}

  {{ form.input('ckan.site_description', id='field-ckan-site-description', label=_('Site Tag Line'), value=data['ckan.site_description'], error=error, classes=['control-medium']) }}

  {% set field_url = 'ckan.site_logo' %}
  {% set is_upload = data[field_url] and not data[field_url].startswith('http') %}
  {% set is_url = data[field_url] and data[field_url].startswith('http') %}
  {{ form.image_upload(data, errors, is_upload_enabled=h.uploads_enabled(), is_url=is_url, is_upload=is_upload, upload_label = _('Site logo'), url_label=_('Site logo'),  field_url=field_url, field_upload='logo_upload', field_clear='clear_logo_upload' )}}

  {{ form.markdown('ckan.site_about_en', id='field-ckan-site-about-en', label=_('About (EN)'), value=data['ckan.site_about_en'], error=error, placeholder=_('About page text')) }}

  {{ form.markdown('ckan.site_about_mk', id='field-ckan-site-about-mk', label=_('About(MK)'), value=data['ckan.site_about_mk'], error=error, placeholder=_('About page text')) }}

  {{ form.markdown('ckan.site_about_sq', id='field-ckan-site-about-sq', label=_('About(SQ)'), value=data['ckan.site_about_sq'], error=error, placeholder=_('About page text')) }}

  {{ form.markdown('ckan.site_intro_text_en', id='field-ckan-site-intro-text-en', label=_('Intro Text(EN)'), value=data['ckan.site_intro_text_en'], error=error, placeholder=_('Text on home page')) }}

  {{ form.markdown('ckan.site_intro_text_mk', id='field-ckan-site-intro-text-mk', label=_('Intro Text(MK)'), value=data['ckan.site_intro_text_mk'], error=error, placeholder=_('Text on home page')) }}

  {{ form.markdown('ckan.site_intro_text_sq', id='field-ckan-site-intro-text-sq', label=_('Intro Text(SQ)'), value=data['ckan.site_intro_text_sq'], error=error, placeholder=_('Text on home page')) }}

  {{ form.textarea('ckan.site_custom_css', id='field-ckan-site-custom-css', label=_('Custom CSS'), value=data['ckan.site_custom_css'], error=error, placeholder=_('Customisable css inserted into the page header')) }}

  {{ form.select('ckan.homepage_style', id='field-homepage-style', label=_('Homepage'), options=homepages, selected=data['ckan.homepage_style'], error=error) }}

  {{ form.markdown('footer_links', label=_('Footer Links'), value=data.footer_links, error=error, placeholder=_('Enter a list of links - one per line - to be shown as a list withing the secondary footer navigation. Please format the links with Markdown (i.e. * [Example link](https://www.example.com)).'), classes=['control-full']) }}


{% endblock %}
