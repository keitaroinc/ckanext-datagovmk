<!--
Copyright (c) 2018 Keitaro AB

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as
published by the Free Software Foundation, either version 3 of the
License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with this program.  If not, see <https://www.gnu.org/licenses/>.
-->

{% set stats = h.datagovmk_get_site_statistics(c.user) %}
{% set catalog_count = h.datagovmk_get_catalog_count(c.user) %}

<div class="quick-stats">
  <a href="{{ h.url_for('dataset.search') }}">
    <i class="fa fa-database"></i>
    <span class="wrap">
      <span class="value">{{ h.SI_number_span(stats.dataset_count) }}</span>
      <span class="title">{{ _('dataset') if stats.dataset_count == 1 else _('datasets') }}</span>
    </span>
  </a>
  <a href="{{ h.url_for('organization.index') }}">
    <i class="fa fa-university"></i>
    <span class="wrap">
      <span class="value">{{ h.SI_number_span(stats.organization_count) }}</span>
      <span class="title">{{ _('organization') if stats.organization_count == 1 else _('organizations') }}</span>
    </span>
  </a>
  <a href="{{ h.url_for('group.index') }}">
    <i class="fa fa-th"></i>
    <span class="wrap">
        <span class="value">{{ h.SI_number_span(stats.group_count) }}</span>
        <span class="title">{{ _('group') if stats.group_count == 1 else _('groups') }}</span>
    </span>
  </a>
  <a href="{{ h.url_for('dataset.search', q='extras_org_catalog_enabled:true') }}">
    <i class="fa fa-book"></i>
    <span class="wrap">
        <span class="value">{{ h.SI_number_span(catalog_count) }}</span>
        <span class="title">{{ _('catalog') if catalog_count == 1 else _('catalogs') }}</span>
    </span>
  </a>
</div>

